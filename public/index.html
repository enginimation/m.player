<!DOCTYPE html>
<html manifest="app.mf">
<head>
    <title>m.player</title>
    <meta charset="utf-8"/>
    <meta name="author" content="Enginimation Studio(enginimation.com)"/>
    <meta name="description" content="Offline/online music player that works in your browser"/>
    <meta name="keywords" content="player,music player,html5,offline player,lastfm,mp3,media player"/>
    <link rel="stylesheet" href="css/styles.css"/>
    <script src="http://connect.facebook.net/en_US/all.js"></script>
    <script src="js/lib/async.min.js"></script>
    <script src="js/lib/libs.bundle.js"></script>
    <script src="js/ext/data.service.js"></script>
    <script src="js/app.js"></script>
    <script>$(function(){AppController.init();});</script>
</head>
<body>
<a id="lastfm_login" href="http://www.last.fm/api/auth/?api_key=e3377f4b4d8c6de47c7e2c81485a65f5" title="Login to Last.fm"><img src="css/images/lastfm_square.jpg"></a>
<a id="fb_login" title="Login to FaceBook">FaceBook</a>
<aside id="file_upload_status_dialog" class="modal_dialog">
    <section id="uploading_files_progress" class="dialog_content">
        <header>Importing: <span></span></header>
        <progress value="0" min="0" max="100"></progress><span id="file_index"></span>/<span id="total_files_amount"></span>
    </section>
</aside>
<div class="main_screen">
    <section id="how_to_use" class="info_panel help_panel hidden">
        <header><h1>How to use</h1></header>
        <section>
            <p>m.player - is modern offline/online audio player that works just in browser (it doesn't require Internet connection).
                You can drop music files from your file system inside the player and play them right now or come back later.</p>
            <p>Player has library using which you can navigate through you music. Library populated automatically each time
                you add new files to play. Information in the library integrated with <a href="http://last.fm">last.fm</a> service.</p>
            <p>All your music stored locally in the filesystem used by application. This is possible using latest HTML 5 technology.</p>
            <p>Project is open-source. You can join development <a href="https://github.com/podviaznikov/m.player">here</a>.</p>
            <p>Current version is 1.0. A lot of new functionality will be implemented in the upcoming months.</p>
            <p>Project is build by Enginimation Studio. Feel free to contact <a href="mailto:hello@enginimation.com">us</a> in any time with any reason.</p>
        </section>
    </section>
    <section id="hot_keys" class="info_panel help_panel hidden">
        <header><h1>Hot keys</h1></header>
        <section>
            <div class="hot_key_row"><div class="cell key_combination">Space</div><div class="cell">Play/Pause</div></div>
            <div class="hot_key_row"><div class="cell key_combination">Enter</div><div class="cell">Play selected track</div></div>
            <div class="hot_key_row"><div class="cell key_combination">Delete</div><div class="cell">Delete selected track from playlist</div></div>
            <div class="hot_key_row"><div class="cell key_combination">Escape</div><div class="cell">Return to normal mode</div></div>
            <div class="hot_key_row"><div class="cell key_combination">Key up</div><div class="cell">Select previous track</div></div>
            <div class="hot_key_row"><div class="cell key_combination">Key down</div><div class="cell">Select next track</div></div>
        </section>
    </section>
    <section id="contributions" class="info_panel help_panel hidden">
        <header><h1>Thanks</h1></header>
        <section>
            <span><a href="http://documentcloud.github.com/underscore/">underscore.js</a> - utility library for JavaScript.</span>
            <span><a href="http://documentcloud.github.com/backbone/">backbone.js</a> - tiny MVC framework that helped to organize code.</span>
            <span><a href="http://jquery.com/">jQuery</a> - most famous JavaScript library for dealing with DOM.</span>
            <span><a href="https://github.com/podviaznikov/fs.js">fs.js</a> - simple wrapper for HTML 5 File Api.</span>
            <span><a href="https://github.com/aadsm/JavaScript-ID3-Reader">id3</a> - ID3 reader for JavaScript.</span>
            <span><a href="http://last.fm">last.fm</a> - great music service.</span>
            <span><a href="https://github.com/jammus/lastfm-node">lastfm-node</a> - node.js API for last.fm.</span>
            <span><a href="https://github.com/podviaznikov/porridge.js">porridge.js</a> - simple wrapper for HTML 5 IndexDB.</span>
            <span><a href="https://github.com/podviaznikov/backbone-indexdb">backbone-indexdb</a> - backbone adapter for IndexDB.</span>
        </section>
    </section>
</div>
<section id="artist_bio"></section>
<section id="playing_visualization"></section>
<div class="main_screen">
    <section id="library_menu" class="info_panel main_panel">
        <header><h1 id="show_artists">Artists</h1><span>/</span><h1 id="show_playlists">Playlists</h1><input placeholder="Search artist" type="search" maxlength="16" autocomplete="on"></header>
        <section id="artists_library_content" class="library_content_panel scrollable_panel"></section>
        <section id="playlists_library_content" class="library_content_panel scrollable_panel"></section>
    </section>
    <section id="filtered_lib" class="info_panel main_panel">
        <header><h1>Albums</h1></header>
        <section id="filtered_lib_content" class="scrollable_panel"></section>
    </section>
    <section id="playing_list" class="info_panel main_panel">
        <header class="box"><h1>Now playing</h1></header>
        <section id="song_info_view"></section>
        <section id="playlist_toolbar">
            <input id="new_play_list" value="Unsaved list" maxlength="18">
            <input type="file" id="drop_files" accept="audio/*" multiple>
            <input type="file" id="drop_folder" accept="audio/*" multiple webkitdirectory>
            <span id="clear_playlist" class="command_link" title="Clear playlist">Clear</span>
            <span id="import_songs_directory" class="command_link" title="Import music directory">Import directory</span>
            <span id="import_songs_files" class="command_link" title="Import music files">Import files</span>
        </section>
        <section id="playing_songs" class="scrollable_panel">
            <label>Drop mp3 files here</label>
        </section>
        <footer></footer>
    </section>
</div>
<footer id="player">
    <span id="shuffle_toggle" class="control off" title="Turn shuffle on"></span>
    <span id="repeat_toggle" class="control on" title="Turn repeat off"></span>
    <span id="stop_song" class="control" title="Stop"></span>
    <span id="previous_song" class="control" title="Previous"></span>
    <span id="play_toggle" class="control paused" title="Play"></span>
    <span id="next_song" class="control" title="Next"></span>
    <span id="sound_toggle" class="control on" title="Mute"></span>
    <meter id ="volume_slider" value="0.5" min="0" max="1"></meter>
    <progress id="music_slider" min="0" value="0"></progress>
    <label id="time_counter">0:00</label>
    <span id="help" class="control off" title="Help"></span>
    <span id="expand" class="control on" title="Full screen mode"></span>
    <audio id="player_ctrl"></audio>
</footer>
<article id="album_info_view" class="box"></article>
<script type="html/template" id="song_tpl">
    <div class="song cell track_number"><%= track %></div>
    <div class="song cell"><%= title %></div>
    <div class="song cell delete_album_song">Delete</div>
</script>
<script type="html/template" id="song_mini_tpl">
    <div class="song cell"><%= title %></div>
</script>
<script type="html/template" id="playlist_stat_tpl"><label for="song_count">Songs</label><span class="song_count"><%= songsCount %></span></script>
<script type="html/template" id="artist_tpl">
    <span class="info_image"><img src="<%= image %>"></span>
    <section class="lib-item-info">
        <h1><%= name %></h1>
        <div class="artist_albums"><% _.each(albums, function(album) { %> <a class="album_link" data-album="<%= album %>"><%= album %></a> <% }); %></div>
        <div class="genres_box"><label>Genres</label><% _.each(genres, function(genre) { %> <a rel="tag" class="genre_link"><%= genre %></a> <% }); %></div>
        <div class="song_count"><label for="song_count">Songs</label><span class="song_count"><%= songsCount %></span></div>
        <footer>
            <span class="bio_artist command_link" title="Show artist's bio"></span>
            <span class="delete_artist command_link" title="Delete this artist from library">Delete</span>
        </footer>
    </section>
</script>
<script type="html/template" id="saved_playlist_tpl">
    <span class="info_image"><img src="<%= image %>"></span>
    <section class="lib-item-info">
        <h1><%= name %></h1>
        <div class="genres_box"><label>Genres</label><% _.each(genres, function(genre) { %> <a rel="tag" class="genre_link"><%= genre %></a> <% }); %></div>
        <div class="song_count"><label for="song_count">Songs</label><span class="song_count"><%= songsCount %></span></div>
        <footer class="saved_playlist_toolbar">
            <span class="delete_playlist command_link" title="Delete this playlist">Delete</span>
        </footer>
    </section>
</script>
<script type="html/template" id="visualization_tpl"><img src="<%= image %>"></script>
<script type="html/template" id="detailed_album_info_tpl">
    <span class="info_image"><img src="<%= image %>"></span>
    <section class="detailed_album_info">
        <h1><%= name %></h1>
        <span class="release_date"><%= releaseDate %></span>
    </section>
</script>
<script type="html/template" id="detailed_playlist_info_tpl">
    <section class="detailed_album_info_panel box">
        <span class="info_image"><img src="<%= image %>"></span>
        <section class="detailed_album_info">
            <h1><%= name %></h1>
        </section>
    </section>
</script>
<script type="html/template" id="song_info_tpl">
    <span id="song_image" class="info_image"><img src="<%= image %>"></span>
    <section id="song_info">
        <h1><%= name %></h1>
        <span class="data_info_row"><%= album %></span>
        <span class="data_info_row"><%= artist %></span>
        <span class="data_info_row"><%= year %></span>
    </section>
</script>
</body>
</html>